<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>O BLOCK E FOOTBALL</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
</head>
<body>

  <div id="landing-page" class="landing-page">
    <div class="landing-bg">
      <div class="grid-overlay"></div>
      <div id="particles" class="particles"></div>
      <div class="orb orb-1"></div>
      <div class="orb orb-2"></div>
    </div>
    <div class="landing-content">
      <div class="landing-badge">‚ö° SEASON 1 ‚Äî NOW LIVE</div>
      <h1 class="landing-title">
        <span class="title-o">O BLOCK</span>
        <span class="title-e">E FOOTBALL</span>
      </h1>
      <p class="landing-sub">The Premier Online Esports Football League</p>
      <div class="landing-pills">
        <div class="pill"><span class="pill-dot"></span>Real-Time Rankings</div>
        <div class="pill">Live Match Results</div>
        <div class="pill">Season 1</div>
      </div>
      <button class="enter-btn" id="enter-btn">
        <span class="enter-glow"></span>
        <span>‚ö° ENTER ARENA</span>
      </button>
    </div>

    <!-- BACKGROUND MUSIC ‚Äî beat.mp3 from GitHub repo -->
    <audio id="bg-music" loop preload="auto">
      <source src="beat.mp3" type="audio/mpeg"/>
    </audio>
    <button class="music-btn" id="music-btn">
      <span id="music-icon">üîá</span>
      <span id="music-label">TAP FOR MUSIC</span>
    </button>

    <div class="landing-footer">Powered by Firebase Real-Time Technology</div>
  </div>

  <div id="main-app" class="main-app hidden">

    <header class="app-header">
      <div class="header-brand">
        <span class="brand-icon">‚öΩ</span>
        <div>
          <div class="brand-name">O BLOCK E FOOTBALL</div>
          <div class="brand-live"><span class="live-dot"></span>LIVE</div>
        </div>
      </div>
      <nav class="header-nav" id="header-nav">
        <button class="nav-btn active" data-section="leaderboard">üèÜ Leaderboard</button>
        <button class="nav-btn" data-section="register">‚ûï Register</button>
        <button class="nav-btn admin-only hidden" data-section="admin">üõ°Ô∏è Admin</button>
      </nav>
      <div class="header-auth">
        <button class="btn-login" id="btn-login">Login</button>
        <div id="admin-badge" class="admin-badge hidden">
          <span>üõ°Ô∏è ADMIN</span>
          <button class="btn-logout" id="btn-logout">Logout</button>
        </div>
      </div>
    </header>

    <div id="login-modal" class="modal-overlay hidden">
      <div class="modal-card">
        <button class="modal-close" id="modal-close">‚úï</button>
        <div class="modal-header">
          <div class="modal-icon">üõ°Ô∏è</div>
          <h2>Admin Access</h2>
          <p>Authorized personnel only</p>
        </div>
        <div class="field-group">
          <label>Email Address</label>
          <input type="email" id="login-email" placeholder="admin@oblocke.com" autocomplete="email"/>
        </div>
        <div class="field-group">
          <label>Password</label>
          <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password"/>
        </div>
        <div id="login-error" class="msg-error hidden"></div>
        <button class="btn-primary" id="btn-login-submit">ACCESS PANEL</button>
      </div>
    </div>

    <div id="confirm-modal" class="modal-overlay hidden">
      <div class="modal-card confirm-card">
        <div class="modal-icon">‚ö†Ô∏è</div>
        <h2>Delete Player?</h2>
        <p id="confirm-name" class="confirm-text"></p>
        <p style="color:var(--text-dim); font-size:0.85rem; margin-top:4px;">This action cannot be undone.</p>
        <div class="confirm-actions">
          <button class="btn-cancel" id="btn-cancel-delete">Cancel</button>
          <button class="btn-danger" id="btn-confirm-delete">Delete</button>
        </div>
      </div>
    </div>

    <main class="app-main">

      <section id="section-leaderboard" class="section active">
        <div class="section-head">
          <div>
            <h2 class="section-title">üèÜ Live Leaderboard</h2>
            <p class="section-sub">Rankings update in real-time for everyone</p>
          </div>
          <div class="player-count-badge" id="player-count-badge">0 Players</div>
        </div>
        <div class="table-wrap">
          <div class="table-header" id="table-header">
            <span class="th-rank">Rank</span>
            <span class="th-player">Player</span>
            <span class="th-stat">M</span>
            <span class="th-stat">G</span>
            <span class="th-stat">GD</span>
            <span class="th-stat">PTS</span>
          </div>
          <div id="leaderboard-body" class="leaderboard-body">
            <div class="empty-state">
              <div class="empty-icon">‚öΩ</div>
              <p>No players yet. Be the first to register!</p>
            </div>
          </div>
        </div>
        <div class="legend">
          <span class="legend-item"><span class="legend-dot gold"></span>#1 Gold</span>
          <span class="legend-item"><span class="legend-dot silver"></span>#2 Silver</span>
          <span class="legend-item"><span class="legend-dot bronze"></span>#3 Bronze</span>
          <span class="legend-sep">|</span>
          <span class="legend-item">M = Matches &nbsp; G = Goals &nbsp; GD = Goal Diff &nbsp; PTS = Points</span>
        </div>
      </section>

      <section id="section-register" class="section">
        <div class="section-head">
          <div>
            <h2 class="section-title">‚ûï Join the League</h2>
            <p class="section-sub">Register your player profile</p>
          </div>
        </div>
        <div class="form-card">
          <div class="field-group">
            <label>Full Name</label>
            <input type="text" id="reg-name" placeholder="Enter your full name" maxlength="40"/>
          </div>
          <div id="reg-error" class="msg-error hidden"></div>
          <div id="reg-success" class="msg-success hidden"></div>
          <button class="btn-primary" id="btn-register">JOIN THE ARENA</button>
        </div>
        <div class="register-note">
          <p>üîí Your name will appear on the live leaderboard once registered.</p>
        </div>
      </section>

      <section id="section-admin" class="section">
        <div class="section-head">
          <div>
            <h2 class="section-title">üõ°Ô∏è Admin Panel</h2>
            <p class="section-sub">Match management ‚Äî authorized access only</p>
          </div>
          <div class="admin-badge-inline">ADMIN MODE</div>
        </div>
        <div class="admin-grid">
          <div class="admin-card">
            <h3 class="card-title">‚öΩ Submit Match Result</h3>
            <div class="match-versus">
              <div class="field-group">
                <label>Player A</label>
                <select id="player-a"><option value="">‚Äî Select Player ‚Äî</option></select>
              </div>
              <div class="vs-badge">VS</div>
              <div class="field-group">
                <label>Player B</label>
                <select id="player-b"><option value="">‚Äî Select Player ‚Äî</option></select>
              </div>
            </div>
            <div class="score-inputs">
              <div class="field-group">
                <label>Goals A</label>
                <input type="number" id="goals-a" min="0" max="99" value="0"/>
              </div>
              <div class="score-colon">:</div>
              <div class="field-group">
                <label>Goals B</label>
                <input type="number" id="goals-b" min="0" max="99" value="0"/>
              </div>
            </div>
            <div id="match-error" class="msg-error hidden"></div>
            <div id="match-success" class="msg-success hidden"></div>
            <button class="btn-primary" id="btn-submit-match">SUBMIT RESULT</button>
          </div>
          <div class="admin-card">
            <h3 class="card-title">üìã Activity Log</h3>
            <div id="activity-log" class="activity-log">
              <p class="log-empty">No activity yet this session.</p>
            </div>
          </div>
        </div>
        <div class="admin-note">
          <p>‚ö†Ô∏è To delete players, go to the <strong>Leaderboard</strong> tab ‚Äî delete buttons are visible when you're logged in as admin.</p>
        </div>
      </section>

    </main>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>        <span class="enter-btn-bg"></span>
        <span class="enter-btn-text">ENTER ARENA</span>
        <span class="enter-btn-arrow">‚Üí</span>
      </button>
    </div>
  </div>

  <!-- MAIN APP -->
  <div id="main-app" class="main-app hidden">

    <!-- NAV -->
    <nav class="navbar">
      <div class="nav-brand">
        <span class="nav-icon">‚öΩ</span>
        <span class="nav-title">O BLOCK <span class="accent">E FOOTBALL</span></span>
      </div>
      <div class="nav-actions">
        <div class="live-indicator"><span class="live-dot"></span>LIVE</div>
        <div id="auth-area">
          <button class="btn-ghost">ADMIN LOGIN</button>
        </div>
      </div>
    </nav>

    <!-- TAB BAR -->
    <div class="tab-bar">
      <button class="tab-btn active" data-tab="leaderboard">üèÜ LEADERBOARD</button>
      <button class="tab-btn" data-tab="fixtures">üìÖ FIXTURES</button>
      <button class="tab-btn" data-tab="players">üë§ PLAYERS</button>
      <button class="tab-btn" data-tab="bracket">üéØ BRACKET</button>
    </div>

    <div class="app-container">

      <!-- LEFT COLUMN -->
      <div class="left-col">

        <!-- REGISTER -->
        <div class="card" id="register-card">
          <div class="card-header">
            <span class="card-icon">üë§</span>
            <h3>JOIN THE ARENA</h3>
          </div>
          <div class="card-body">
            <div class="input-group">
              <input type="text" id="playerNameInput" class="neon-input" placeholder="Full Name" maxlength="40" />
              <div class="input-bar"></div>
            </div>
            <div class="input-group">
              <input type="url" id="playerPhotoInput" class="neon-input" placeholder="Photo URL (optional)" />
              <div class="input-bar"></div>
            </div>
            <div class="input-group">
              <input type="text" id="playerPositionInput" class="neon-input" placeholder="Position e.g. Striker" maxlength="30" />
              <div class="input-bar"></div>
            </div>
            <button class="btn-primary" id="registerBtn">
              <span>REGISTER PLAYER</span>
              <span class="btn-glow"></span>
            </button>
            <div id="register-msg" class="msg-box hidden"></div>
          </div>
        </div>

        <!-- ADMIN LOGIN -->
        <div class="card hidden" id="login-card">
          <div class="card-header">
            <span class="card-icon">üîê</span>
            <h3>ADMIN ACCESS</h3>
          </div>
          <div class="card-body">
            <p style="color:var(--text-dim);font-size:0.92rem;text-align:center;line-height:1.7;">
              Sign in with your admin Google account to access the Control Room.
            </p>
            <button class="btn-google" id="doLoginBtn">
              <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="20" height="20" alt="Google" />
              <span>SIGN IN WITH GOOGLE</span>
            </button>
            <div id="login-msg" class="msg-box hidden"></div>
          </div>
        </div>

        <!-- ADMIN: MATCH CONTROL -->
        <div class="card hidden" id="admin-panel">
          <div class="card-header">
            <span class="card-icon">‚öôÔ∏è</span>
            <h3>MATCH CONTROL</h3>
            <span class="admin-badge">ADMIN</span>
          </div>
          <div class="card-body">
            <div class="match-form">
              <div class="match-players">
                <div class="player-select-box">
                  <label class="select-label">PLAYER A</label>
                  <select id="playerA" class="neon-select"><option value="">Select...</option></select>
                </div>
                <div class="vs-badge">VS</div>
                <div class="player-select-box">
                  <label class="select-label">PLAYER B</label>
                  <select id="playerB" class="neon-select"><option value="">Select...</option></select>
                </div>
              </div>
              <div class="goals-row">
                <div class="goal-input-box">
                  <label class="select-label">GOALS A</label>
                  <input type="number" id="goalsA" class="neon-input goals-input" min="0" value="0" />
                </div>
                <div class="goal-divider">‚Äî</div>
                <div class="goal-input-box">
                  <label class="select-label">GOALS B</label>
                  <input type="number" id="goalsB" class="neon-input goals-input" min="0" value="0" />
                </div>
              </div>
              <button class="btn-primary btn-gold" id="submitMatchBtn">
                <span>‚ö° UPDATE MATCH RESULT</span>
                <span class="btn-glow"></span>
              </button>
              <div id="match-msg" class="msg-box hidden"></div>
            </div>
          </div>
        </div>

        <!-- ADMIN: SCHEDULE FIXTURE -->
        <div class="card hidden" id="fixture-admin-panel">
          <div class="card-header">
            <span class="card-icon">üìÖ</span>
            <h3>SCHEDULE MATCH</h3>
            <span class="admin-badge">ADMIN</span>
          </div>
          <div class="card-body">
            <div class="input-group">
              <select id="fixturePlayerA" class="neon-select"><option value="">Player A...</option></select>
            </div>
            <div class="input-group">
              <select id="fixturePlayerB" class="neon-select"><option value="">Player B...</option></select>
            </div>
            <div class="input-group">
              <input type="datetime-local" id="fixtureDate" class="neon-input" />
              <div class="input-bar"></div>
            </div>
            <div class="input-group">
              <input type="text" id="fixtureVenue" class="neon-input" placeholder="Venue (optional)" maxlength="40" />
              <div class="input-bar"></div>
            </div>
            <button class="btn-primary" id="addFixtureBtn">
              <span>üìÖ SCHEDULE FIXTURE</span>
              <span class="btn-glow"></span>
            </button>
            <div id="fixture-msg" class="msg-box hidden"></div>
          </div>
        </div>

        <!-- ADMIN: TOURNAMENT SETUP -->
        <div class="card hidden" id="bracket-admin-panel">
          <div class="card-header">
            <span class="card-icon">üéØ</span>
            <h3>TOURNAMENT SETUP</h3>
            <span class="admin-badge">ADMIN</span>
          </div>
          <div class="card-body">
            <div class="input-group">
              <input type="text" id="tournamentName" class="neon-input" placeholder="Tournament Name" maxlength="40" />
              <div class="input-bar"></div>
            </div>
            <div class="input-group">
              <select id="bracketType" class="neon-select">
                <option value="elimination">Single Elimination</option>
                <option value="roundrobin">Round Robin</option>
              </select>
            </div>
            <p style="color:var(--text-dim);font-size:0.82rem;line-height:1.5;">
              Uses all registered players. Bracket auto-generates from current player list.
            </p>
            <button class="btn-primary btn-gold" id="generateBracketBtn">
              <span>üéØ GENERATE BRACKET</span>
              <span class="btn-glow"></span>
            </button>
            <button class="btn-danger" id="clearBracketBtn" style="margin-top:8px;width:100%;padding:10px;border-radius:8px;font-family:var(--font-main);font-size:0.75rem;letter-spacing:0.1em;cursor:pointer;">
              üóëÔ∏è CLEAR BRACKET
            </button>
            <div id="bracket-msg" class="msg-box hidden"></div>
          </div>
        </div>

      </div>

      <!-- RIGHT COLUMN -->
      <div class="right-col">

        <!-- LEADERBOARD TAB -->
        <div class="tab-content active" id="tab-leaderboard">
          <div class="card leaderboard-card">
            <div class="card-header">
              <span class="card-icon">üèÜ</span>
              <h3>LIVE LEADERBOARD</h3>
              <button class="whatsapp-btn" id="shareLeaderboardBtn">üì≤ SHARE</button>
              <div class="pulse-ring"></div>
            </div>
            <div class="leaderboard-table-wrapper">
              <table class="leaderboard-table">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>PLAYER</th>
                    <th>M</th>
                    <th>G</th>
                    <th>GD</th>
                    <th>PTS</th>
                    <th id="delete-col-header" class="hidden">DEL</th>
                  </tr>
                </thead>
                <tbody id="leaderboard-body">
                  <tr><td colspan="7" class="loading-row"><div class="loader"></div><span>LOADING...</span></td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- FIXTURES TAB -->
        <div class="tab-content hidden" id="tab-fixtures">
          <div class="card">
            <div class="card-header">
              <span class="card-icon">üìÖ</span>
              <h3>MATCH FIXTURES</h3>
              <button class="whatsapp-btn" id="shareFixturesBtn">üì≤ SHARE</button>
            </div>
            <div class="card-body" id="fixtures-list">
              <div class="empty-state">üìÖ No fixtures scheduled yet.<br>Admin can schedule matches from the left panel.</div>
            </div>
          </div>
        </div>

        <!-- PLAYERS TAB -->
        <div class="tab-content hidden" id="tab-players">
          <div class="card">
            <div class="card-header">
              <span class="card-icon">üë§</span>
              <h3>PLAYER PROFILES</h3>
            </div>
            <div class="players-grid" id="players-grid">
              <div class="empty-state">üë§ No players registered yet.</div>
            </div>
          </div>
        </div>

        <!-- BRACKET TAB -->
        <div class="tab-content hidden" id="tab-bracket">
          <div class="card">
            <div class="card-header">
              <span class="card-icon">üéØ</span>
              <h3 id="bracket-title">TOURNAMENT BRACKET</h3>
              <button class="whatsapp-btn" id="shareBracketBtn">üì≤ SHARE</button>
            </div>
            <div class="bracket-container" id="bracket-container">
              <div class="empty-state">üéØ No tournament generated yet.<br>Admin can create one from the left panel.</div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- PLAYER PROFILE MODAL -->
  <div class="modal-overlay hidden" id="profileModal">
    <div class="modal profile-modal">
      <button class="modal-close" id="closeProfileBtn">‚úï</button>
      <div class="profile-header">
        <div class="profile-avatar-lg" id="profileAvatar"></div>
        <div class="profile-info">
          <h2 class="profile-name" id="profileName"></h2>
          <div class="profile-position" id="profilePosition"></div>
          <button class="whatsapp-btn" id="shareProfileBtn">üì≤ SHARE PLAYER</button>
        </div>
      </div>
      <div class="profile-stats-grid">
        <div class="profile-stat"><span class="stat-val" id="profileMatches">0</span><span class="stat-lbl">MATCHES</span></div>
        <div class="profile-stat"><span class="stat-val" id="profileGoals">0</span><span class="stat-lbl">GOALS</span></div>
        <div class="profile-stat"><span class="stat-val" id="profileGD">0</span><span class="stat-lbl">GOAL DIFF</span></div>
        <div class="profile-stat"><span class="stat-val" id="profilePoints">0</span><span class="stat-lbl">POINTS</span></div>
        <div class="profile-stat"><span class="stat-val" id="profileWinRate">0%</span><span class="stat-lbl">WIN RATE</span></div>
        <div class="profile-stat"><span class="stat-val" id="profileRank">-</span><span class="stat-lbl">RANK</span></div>
      </div>
    </div>
  </div>

  <!-- CONFIRM DELETE MODAL -->
  <div class="modal-overlay hidden" id="confirmModal">
    <div class="modal">
      <div class="modal-icon">‚ö†Ô∏è</div>
      <h3 class="modal-title">CONFIRM DELETE</h3>
      <p class="modal-text" id="modalText">Delete this player? This cannot be undone.</p>
      <div class="modal-actions">
        <button class="btn-ghost" id="cancelDeleteBtn">CANCEL</button>
        <button class="btn-danger" id="confirmDeleteBtn">DELETE</button>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div class="toast hidden" id="toast"><span id="toast-msg"></span></div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="script.js"></script>
</body>
</html>
